<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout" layout:decorator="content">

<head>
    <meta charset="UTF-8">
    <title th:text="${product.title}">オオカミ少女と黒王子</title>
</head>

<body class="yj950-2">

<div layout:fragment="main">
    <article class="section">
        <div>
            <header class="header header--section">
                <h2 class="text-middle">
                    <i class="icon-movie color-gray-light"></i>投稿
                </h2>
            </header>
            <form th:action="${reviewId}? @{'/products/' + ${product.id} + '/reviews/' + ${reviewId}} : @{'/products/' + ${product.id} + '/reviews/'}" th:object="${reviewForm}" accept-charset="UTF-8" action="/entry/1" method="post">
                <div>
                    <ul class="listview js-lazy-load-images">
                        <li style="margin-bottom: 15px">
                            <a class="listview__element--right-icon" href="#">
                                <div class="box">
                                    <div class="box__cell w80">
                                        <div class="thumbnail thumbnail--photo">
                                            <div class="thumbnail__figure" style="background-image: url(http://image.eiga.k-img.com/images/movie/82939/poster2/200.jpg?1456105504);" th:style="'background-image:url(' + ${product.imageUrl} + ')'"></div>
                                        </div>
                                    </div>
                                    <div class="box__cell pl1em">
                                        <h3 class="text-middle text-break color-sub" th:text="${product.title}">オオカミ少女と黒王子</h3>
                                        <p class="text-xsmall">
                                            <!-- 説明 -->
                                        </p>
                                        <p class="text-xsmall opacity-60"></p>
                                    </div>
                                </div>
                            </a>
                        </li>
                    </ul>
                </div>
                <!-- <div style="margin: 8px 0">
                    <label style="margin-right: 8px">ニックネーム</label>
                    <input th:field="*{nickname}" name="nickname" placeholder="ニックネーム" type="text" value="">
                    <span th:if="${#fields.hasErrors('nickname')}" th:errors="*{nickname}" class="help-block">error!</span>
                </div> -->
                <div style="margin: 8px 0">
                    <label style="margin-right: 8px">評価</label>
                    <input th:field="*{rate}" th:errorclass="error-field" class="search__query" name="rate" placeholder="評価" style="text-align: right" type="number" max="10" min="1" value="1"> (10段階評価)
                    <span th:if="${#fields.hasErrors('rate')}" th:errors="*{rate}" class="help-block">error!</span>
                </div>
                <div style="margin: 8px 0">
                    <textarea th:feild="*{comment}" th:errorclass="error-field" name="comment" placeholder="レビューを書いてね！" style="width: 100%; height: 300px" th:text="*{comment}"></textarea>
                    <span th:if="${#fields.hasErrors('comment')}" th:errors="*{comment}" class="help-block">error!</span>
                </div>
                <div class="row">
                    <div class="col10 push1">
                        <button type="submit" class="btn btn--block">投稿する<i class="icon-arrow-right"></i></button>
                    </div>
                </div>
            </form>
        </div>
    </article>
</div>

</body>
</html>
